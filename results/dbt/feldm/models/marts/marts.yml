version: 2

models:
  - name: fct_sales
    meta:
      owner: "@celine"
      tags: ['daily']
    description: tbd
    columns:
      - name: sk_order_id
        data_tests:
          - unique
          - not_null
      - name: customer_id
        data_tests:
          - relationships:
              to: ref('stg_customers')
              field: customer_id
      - name: employee_id
        data_tests:
          - relationships:
              to: ref('stg_employees')
              field: employee_id
      - name: shipper_id
        data_tests:
          - relationships:
              to: ref('stg_shippers')
              field: shipper_id
      - name: product_id
        data_tests:
          - relationships:
              to: ref('stg_products')
              field: product_id
  - name: dim_customers
    meta:
      owner: "@celine"
      tags: ['daily']
    description: tbd
    columns:
      - name: customer_id
        data_tests:
          - unique
          - not_null
  - name: dim_dates
    meta:
      owner: "@celine"
      tags: ['daily']
    columns:
      - name: date_day
        data_tests:
          - unique
          - not_null
  - name: dm_customer_cohort
    meta:
      owner: "@celine"
      tags: ['daily']
    columns:
      - name: sk_customer_cohort_id
        data_tests:
          - unique
          - not_null
